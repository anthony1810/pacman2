\hypertarget{read__file_8c}{\section{/home/bit/hostshare/\-C\-O\-S\-C2451\-\_\-\-A1\-\_\-s3312399/src/read\-\_\-file.c File Reference}
\label{read__file_8c}\index{/home/bit/hostshare/\-C\-O\-S\-C2451\-\_\-\-A1\-\_\-s3312399/src/read\-\_\-file.\-c@{/home/bit/hostshare/\-C\-O\-S\-C2451\-\_\-\-A1\-\_\-s3312399/src/read\-\_\-file.\-c}}
}


this file provide functions to handle reading from text file, modifying read text  


{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$curses.\-h$>$}\\*
{\ttfamily \#include $<$signal.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include $<$assert.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include \char`\"{}read\-\_\-file.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}constant.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utility.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{read__file_8c_a17fa34cfb791f24e63f929e70b7a5c46}{read\-\_\-command} (F\-I\-L\-E $\ast$\hyperlink{pacman_8c_a3efb0e1a16208deecbd84c15401f7cf8}{f}, char \hyperlink{pacman_8c_a71c433bd5b5e4c3497f13ea76ee800e9}{path}\mbox{[}$\,$\mbox{]}, W\-I\-N\-D\-O\-W $\ast$\hyperlink{pacman_8c_a30b90320ea44ddd7351658fb4c92db91}{command\-\_\-window}, W\-I\-N\-D\-O\-W $\ast$\hyperlink{pacman_8c_ab7e8df5037eda813f482880cd772e95f}{game\-\_\-window}, W\-I\-N\-D\-O\-W $\ast$\hyperlink{pacman_8c_a9c62404bc89bc039be4061e6b0201fdd}{user\-\_\-window}, int $\ast$\hyperlink{pacman_8c_adcaac76a96bc545b114cd51df846f2c8}{map\-\_\-row}, int $\ast$\hyperlink{pacman_8c_aaaf34cffec6928dcdd46898e5a413e15}{map\-\_\-col}, char \hyperlink{pacman_8c_a072788baae5ebbbc74fec33e8eccb7e7}{map\-\_\-name}\mbox{[}$\,$\mbox{]}, char \hyperlink{pacman_8c_ad3125f739f1d8f5bbe8c6f3a030b96c0}{author}\mbox{[}$\,$\mbox{]}, char \hyperlink{pacman_8c_a396de8361779342a09b263537530b4c9}{author\-\_\-email}\mbox{[}$\,$\mbox{]}, char \hyperlink{pacman_8c_a06c2206a2e6ed014bb3205cf1b6bd0a7}{user}\mbox{[}$\,$\mbox{]}, char \hyperlink{pacman_8c_ac3b1fede7dc162f1d3a6e3efd28a1b87}{user\-\_\-email}\mbox{[}$\,$\mbox{]}, int \hyperlink{pacman_8c_a37e6a2d9119b69f227693217a943388f}{scr\-\_\-x})
\begin{DoxyCompactList}\small\item\em read\-File,get\-\_\-author\-\_\-name\-\_\-and\-\_\-email function will be called within. \end{DoxyCompactList}\item 
void \hyperlink{read__file_8c_a1ff8ad8b8891f05311e6fb6486e1e8ec}{read\-File} (W\-I\-N\-D\-O\-W $\ast$map\-\_\-win, int row, int col, char map\mbox{[}row\mbox{]}\mbox{[}col\mbox{]}, char s\mbox{[}$\,$\mbox{]}, char file\-\_\-name\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em read the file and print it on screen \end{DoxyCompactList}\item 
void \hyperlink{read__file_8c_aaf85c82ac6b269a83dc4c3d31749a7ce}{update\-Map} (W\-I\-N\-D\-O\-W $\ast$map\-\_\-win, int row, int col, char map\mbox{[}row\mbox{]}\mbox{[}col\mbox{]}, int cursor\-Y, int cursor\-X)
\begin{DoxyCompactList}\small\item\em update the character on the screen at the given Y,X based on the change of the map array \end{DoxyCompactList}\item 
void \hyperlink{read__file_8c_acbd871def0462817543a32a8e76402b3}{cursor\-Move} (W\-I\-N\-D\-O\-W $\ast$\hyperlink{pacman_8c_ab7e8df5037eda813f482880cd772e95f}{game\-\_\-window}, int \hyperlink{pacman_8c_adcaac76a96bc545b114cd51df846f2c8}{map\-\_\-row}, int \hyperlink{pacman_8c_aaaf34cffec6928dcdd46898e5a413e15}{map\-\_\-col}, char map\mbox{[}\hyperlink{pacman_8c_adcaac76a96bc545b114cd51df846f2c8}{map\-\_\-row}\mbox{]}\mbox{[}\hyperlink{pacman_8c_aaaf34cffec6928dcdd46898e5a413e15}{map\-\_\-col}\mbox{]})
\begin{DoxyCompactList}\small\item\em move and check the cursor to assure in the boundary of map, change the map array and call the update\-Map function \end{DoxyCompactList}\item 
void \hyperlink{read__file_8c_ae54775a075f834952c30af4905b85409}{get\-\_\-author\-\_\-name\-\_\-and\-\_\-email} (char full\-String\mbox{[}$\,$\mbox{]}, char \hyperlink{pacman_8c_ad3125f739f1d8f5bbe8c6f3a030b96c0}{author}\mbox{[}$\,$\mbox{]}, char email\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em spilt the input string to author and author email \end{DoxyCompactList}\item 
void \hyperlink{read__file_8c_a0efa4176c3a218ce82f98b09b7378097}{initialize\-\_\-map\-\_\-array} (int \hyperlink{pacman_8c_adcaac76a96bc545b114cd51df846f2c8}{map\-\_\-row}, int \hyperlink{pacman_8c_aaaf34cffec6928dcdd46898e5a413e15}{map\-\_\-col}, char map\mbox{[}\hyperlink{pacman_8c_adcaac76a96bc545b114cd51df846f2c8}{map\-\_\-row}\mbox{]}\mbox{[}\hyperlink{pacman_8c_aaaf34cffec6928dcdd46898e5a413e15}{map\-\_\-col}\mbox{]})
\begin{DoxyCompactList}\small\item\em fill the map array with border,last character of row with '\par
' and the rest with space \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
this file provide functions to handle reading from text file, modifying read text 

\subsection{Function Documentation}
\hypertarget{read__file_8c_acbd871def0462817543a32a8e76402b3}{\index{read\-\_\-file.\-c@{read\-\_\-file.\-c}!cursor\-Move@{cursor\-Move}}
\index{cursor\-Move@{cursor\-Move}!read_file.c@{read\-\_\-file.\-c}}
\subsubsection[{cursor\-Move}]{\setlength{\rightskip}{0pt plus 5cm}void cursor\-Move (
\begin{DoxyParamCaption}
\item[{W\-I\-N\-D\-O\-W $\ast$}]{game\-\_\-window, }
\item[{int}]{map\-\_\-row, }
\item[{int}]{map\-\_\-col, }
\item[{char}]{map\mbox{[}map\-\_\-row\mbox{]}\mbox{[}map\-\_\-col\mbox{]}}
\end{DoxyParamCaption}
)}}\label{read__file_8c_acbd871def0462817543a32a8e76402b3}


move and check the cursor to assure in the boundary of map, change the map array and call the update\-Map function 


\begin{DoxyCode}
\textcolor{keywordflow}{case} \textcolor{charliteral}{' '}:
       wmove(\hyperlink{pacman_8c_ab7e8df5037eda813f482880cd772e95f}{game\_window},cursorY,cursorX);;
       map[getcury(\hyperlink{pacman_8c_ab7e8df5037eda813f482880cd772e95f}{game\_window})][getcurx(\hyperlink{pacman_8c_ab7e8df5037eda813f482880cd772e95f}{game\_window})]=c;
       \hyperlink{read__file_8c_aaf85c82ac6b269a83dc4c3d31749a7ce}{updateMap}(\hyperlink{pacman_8c_ab7e8df5037eda813f482880cd772e95f}{game\_window},\hyperlink{pacman_8c_adcaac76a96bc545b114cd51df846f2c8}{map\_row},\hyperlink{pacman_8c_aaaf34cffec6928dcdd46898e5a413e15}{map\_col},map,cursorY,cursorX);
       \textcolor{keywordflow}{break};
\end{DoxyCode}
 \hypertarget{read__file_8c_ae54775a075f834952c30af4905b85409}{\index{read\-\_\-file.\-c@{read\-\_\-file.\-c}!get\-\_\-author\-\_\-name\-\_\-and\-\_\-email@{get\-\_\-author\-\_\-name\-\_\-and\-\_\-email}}
\index{get\-\_\-author\-\_\-name\-\_\-and\-\_\-email@{get\-\_\-author\-\_\-name\-\_\-and\-\_\-email}!read_file.c@{read\-\_\-file.\-c}}
\subsubsection[{get\-\_\-author\-\_\-name\-\_\-and\-\_\-email}]{\setlength{\rightskip}{0pt plus 5cm}void get\-\_\-author\-\_\-name\-\_\-and\-\_\-email (
\begin{DoxyParamCaption}
\item[{char}]{full\-String\mbox{[}$\,$\mbox{]}, }
\item[{char}]{author\mbox{[}$\,$\mbox{]}, }
\item[{char}]{email\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{read__file_8c_ae54775a075f834952c30af4905b85409}


spilt the input string to author and author email 


\begin{DoxyParams}{Parameters}
{\em full\-String} & the firstline read from file \\
\hline
\end{DoxyParams}
\hypertarget{read__file_8c_a0efa4176c3a218ce82f98b09b7378097}{\index{read\-\_\-file.\-c@{read\-\_\-file.\-c}!initialize\-\_\-map\-\_\-array@{initialize\-\_\-map\-\_\-array}}
\index{initialize\-\_\-map\-\_\-array@{initialize\-\_\-map\-\_\-array}!read_file.c@{read\-\_\-file.\-c}}
\subsubsection[{initialize\-\_\-map\-\_\-array}]{\setlength{\rightskip}{0pt plus 5cm}void initialize\-\_\-map\-\_\-array (
\begin{DoxyParamCaption}
\item[{int}]{map\-\_\-row, }
\item[{int}]{map\-\_\-col, }
\item[{char}]{map\mbox{[}map\-\_\-row\mbox{]}\mbox{[}map\-\_\-col\mbox{]}}
\end{DoxyParamCaption}
)}}\label{read__file_8c_a0efa4176c3a218ce82f98b09b7378097}


fill the map array with border,last character of row with '\par
' and the rest with space 

\hypertarget{read__file_8c_a17fa34cfb791f24e63f929e70b7a5c46}{\index{read\-\_\-file.\-c@{read\-\_\-file.\-c}!read\-\_\-command@{read\-\_\-command}}
\index{read\-\_\-command@{read\-\_\-command}!read_file.c@{read\-\_\-file.\-c}}
\subsubsection[{read\-\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}void read\-\_\-command (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{f, }
\item[{char}]{path\mbox{[}$\,$\mbox{]}, }
\item[{W\-I\-N\-D\-O\-W $\ast$}]{command\-\_\-window, }
\item[{W\-I\-N\-D\-O\-W $\ast$}]{game\-\_\-window, }
\item[{W\-I\-N\-D\-O\-W $\ast$}]{user\-\_\-window, }
\item[{int $\ast$}]{map\-\_\-row, }
\item[{int $\ast$}]{map\-\_\-col, }
\item[{char}]{map\-\_\-name\mbox{[}$\,$\mbox{]}, }
\item[{char}]{author\mbox{[}$\,$\mbox{]}, }
\item[{char}]{author\-\_\-email\mbox{[}$\,$\mbox{]}, }
\item[{char}]{user\mbox{[}$\,$\mbox{]}, }
\item[{char}]{user\-\_\-email\mbox{[}$\,$\mbox{]}, }
\item[{int}]{scr\-\_\-x}
\end{DoxyParamCaption}
)}}\label{read__file_8c_a17fa34cfb791f24e63f929e70b7a5c46}


read\-File,get\-\_\-author\-\_\-name\-\_\-and\-\_\-email function will be called within. 

\hypertarget{read__file_8c_a1ff8ad8b8891f05311e6fb6486e1e8ec}{\index{read\-\_\-file.\-c@{read\-\_\-file.\-c}!read\-File@{read\-File}}
\index{read\-File@{read\-File}!read_file.c@{read\-\_\-file.\-c}}
\subsubsection[{read\-File}]{\setlength{\rightskip}{0pt plus 5cm}void read\-File (
\begin{DoxyParamCaption}
\item[{W\-I\-N\-D\-O\-W $\ast$}]{map\-\_\-win, }
\item[{int}]{row, }
\item[{int}]{col, }
\item[{char}]{map\mbox{[}row\mbox{]}\mbox{[}col\mbox{]}, }
\item[{char}]{s\mbox{[}$\,$\mbox{]}, }
\item[{char}]{file\-\_\-name\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{read__file_8c_a1ff8ad8b8891f05311e6fb6486e1e8ec}


read the file and print it on screen 


\begin{DoxyCode}
wmove(map\_win,row-1,col-2);  
refresh();
wrefresh(map\_win);      
\end{DoxyCode}
 move the cursor to the lower-\/right coner of the map 
\begin{DoxyParams}{Parameters}
{\em $\ast$map\-\_\-win} & the window that contain the map to write the character on it \\
\hline
{\em col,row} & contain the row and col for the array \\
\hline
{\em map\mbox{[}row\mbox{]}\mbox{[}col\mbox{]}} & 2d array store the map for later use,N\-O\-T\-E\-: the col is read from the file P\-L\-U\-S 1(the '\par
' character ) \\
\hline
\end{DoxyParams}
\hypertarget{read__file_8c_aaf85c82ac6b269a83dc4c3d31749a7ce}{\index{read\-\_\-file.\-c@{read\-\_\-file.\-c}!update\-Map@{update\-Map}}
\index{update\-Map@{update\-Map}!read_file.c@{read\-\_\-file.\-c}}
\subsubsection[{update\-Map}]{\setlength{\rightskip}{0pt plus 5cm}void update\-Map (
\begin{DoxyParamCaption}
\item[{W\-I\-N\-D\-O\-W $\ast$}]{map\-\_\-win, }
\item[{int}]{row, }
\item[{int}]{col, }
\item[{char}]{map\mbox{[}row\mbox{]}\mbox{[}col\mbox{]}, }
\item[{int}]{cursor\-Y, }
\item[{int}]{cursor\-X}
\end{DoxyParamCaption}
)}}\label{read__file_8c_aaf85c82ac6b269a83dc4c3d31749a7ce}


update the character on the screen at the given Y,X based on the change of the map array 


\begin{DoxyCode}
wclear(map\_win);
refresh();
wrefresh(map\_win);
\end{DoxyCode}
 before re-\/adding,first clear the whole window to avoid misdisplay 
\begin{DoxyParams}{Parameters}
{\em cursor\-Y,cursor\-X} & the position adding new character \\
\hline
\end{DoxyParams}
